<html>

<head>
  <link rel="stylesheet" type="text/css" href="css/styles.css" />
  <link rel="stylesheet" type="text/css" href="css/icons.css" />
  <link rel="stylesheet" type="text/css" href="css/radio-buttons.css" />
  <link rel="stylesheet" type="text/css" href="css/vue.css" />
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>


<body>
  <section class="app">
    <header class="header">
      <input class="new-search" autofocus autocomplete="off" placeholder="enter new search" v-model="newSearch" @keyup.enter="addSearch">

      <label class="checkbox">
        <span class="label">mark all</span>
        <input class="toggle-all" type="checkbox" v-model="allDone">
        <span class="checkmark"></span>
      </label>
    </header>
    <section class="main" v-show="searches.length" v-cloak>

      <ul class="dive-layout searches">
        <li v-for="search in filteredSearches" class="search searchContainer" :key="search.id" :class="{ marked: search.marked, editing: search == editedSearch }">
          <div class="view">
            <div class="menu">
              <label class="toggle checkbox">
                <input  type="checkbox" v-model="search.marked">
                <span class="checkmark"></span>
              </label>
              <button class="destroy" @click="removeSearch(search)"></button>
            </div>
            <div class="searchNavigation">
              <input placeholder="Suchbegriff" v-model="search.title" />
              <div class="radiobuttons">
                <label class="radiobutton">
                  <input type="radio" v-model="search.frames" :name="search.id" :checked="search.frames" value="1">
                  <span class="iconmark icon-frames"></span>
                </label>

                <label class="radiobutton">
                  <input type="radio"  v-model="search.frames" :name="search.id" :checked="!search.frames" value="">
                  <span class="iconmark icon-scene"></span>
                </label>
              </div>
            </div>
            <div :class="{ showFrames: search.frames, resultContainer: true }">
              <div v-for="foto in fotos">
                <img class="preview" v-if="!search.frames" :src="'https://picsum.photos/300/300?id=' + (foto - 1)" />
                <img :src="'https://picsum.photos/300/300?id=' + foto" />
                <img class="preview"  v-if="!search.frames" :src="'https://picsum.photos/300/300?id=' + (foto + 1)" />
              </div>
            </div>
          </div>
          <input class="edit" type="text" v-model="search.title" v-search-focus="search == editedSearch" @blur="doneEdit(search)" @keyup.enter="doneEdit(search)" @keyup.esc="cancelEdit(search)">
        </li>
      </ul>
    </section>
    <footer class="footer" v-show="searches.length" v-cloak>
      <span class="search-count">
        Searches: <strong>{{ all }}</strong> ({{ marked }} marked)
      </span>
      <ul class="filters">
        <li><a href="#/all" :class="{ selected: visibility == 'all' }">All</a></li>
        <li><a href="#/normal" :class="{ selected: visibility == 'normal' }">Normal</a></li>
        <li><a href="#/marked" :class="{ selected: visibility == 'marked' }">Marked</a></li>
      </ul>
      <button class="clear-marked" @click="removeMarked" v-show="searches.length > remaining">
        remove marked
      </button>
    </footer>
  </section>
</body>
<script src="script.js"></script>

</html>
